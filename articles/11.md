##### **第11章 Vue技术栈开发实战-从SplitPane组件谈Vue中如何“操作”DOM**

- 简单两列布局
- 如何让两个div改变宽度
- 鼠标拖动效果
- v-model和.sync的用法



讲了，为什么写 index.js

把组件引入，又导入，因为以后再使用这个组件的时候，就可以import包含组件的文件包名

默认找index.js 文件，而不用再写文件夹 + 文件名了



观察组件的使用，是接受 v-model，分割比率，mode， 是水平方向还是垂直方向

接受 slot = left top 来确定分割方向的组件



难点：

如何通过js控制，两个列的宽度，而且正好加起来100呢？how?

通过变量？然后后面一个通过 calc?

不是

作者是通过赋值，左边 style = width : 30%  右边style = left :30% 注意要是字符串



难点2：

如果通过拖动两列中间的？来实现拖动效果？

思路：

鼠标拖动，是有事件的，mouseDown

那么获取鼠标对象，距离父元素的偏移值，即可



难点3：

如何获取距离父元素的偏移值？



难点4： 

如何判断，鼠标是按下，还是抬起？

mouseDown 是按下了

判断越界条件





自己写一遍的后果：

组件接受哪些值：slot 左右，初始比例

组件有哪些功能：

左边with：offset % 

右边，left: offset

中间有个杠杠，拖动，动态改变 offset的值



slot 上面能加class 么？

当两个相似模块的时候，添加一个共同的类名，一个不同的类名以区分

如：

这样做的好处是，公共样式可以放在 pane 中，不同的部分放在不同 类中

```
class="pane pane-left"

class="pane-trigger-con"
```



slot 代表被替换的元素，而组件中的结构不受影响。



学习这种写法：

&-left =  .pane-left

```less
.pane{
    position: absolute;
    top: 0;
    height: 100%;
    &-left{
      // width: 30%;
      background: palevioletred;
    }
    &-right{
```







##### **第12章 Vue技术栈开发实战-渲染函数和JSX快速掌握**

- render函数
- 函数式组件
- JSX
- 作用域插槽



##### **第13章 Vue技术栈开发实战-递归组件的使用**

- 封装简单Menu组件
- 递归组件



难点1：

如何生成树状层级关系的图？组件应该怎么写？

孩子距离父亲，padding:20



难点2：

自己调用自己，何时停止递归调用？





注意点：

key是不能加在 template中的，只能加在里面







##### **第14章 Vue技术栈开发实战-登录/登出以及JWT认证**

- 后端代码概览
- 登录以及Token处理
- Token过期处理
- 退出登录



后端判断逻辑:

if

看是传用户名和密码？没传，返回401

如果传入的密码，和保存的密码不一致，返回401

else

​	返回给后端一个token， 是根据 jwt.sign生成的

```js
const jwt = require('jsonwebtoken')
// 第二个参数是，自定义的用来加密的字符串
token: jwt.sign({ name: userName }, 'abcd', {
	expiresIn: '1d'
})
```

如果请求方式在白名单中，而且请求路径出现在请求白名单某个方法的数组中，不需要验证token

从headers 中取到token

如果没有token，返回401

否则，jwt验证，失败401，成功next

Authorization， 验证通过后，重新生成token 返给前端

拿到 token , 使用 cookie 存储起来



tokens 在那儿传递？

```js
 config.headers['Authorization'] = getToken()
```

为什么要把 token 放到 store 中？求解？

放到cookie中不够么？  



token 过期了怎么办？

重新登陆，









##### **第15章 Vue技术栈开发实战-响应式布局**

- Vue-cli3.0中使用**`iView`**
- 布局组件的使用
- 栅格组件实现响应式布局



##### **第16章 Vue技术栈开发实战-可收缩多级菜单的实现**

- 递归组件实战
- v-if和v-show对比



难点1：

收缩侧边栏的时候，不显示title，只显示图标，这个怎么做？

是修改 menuitem 中的 li 么？

如果收缩，不显示文字，只显示title？





hove 图标，是个 dropdown



组件props 数据时，如果类型是 Array、Function、Object的时候

不能直接返回数据，而是在方法中返回





页面组成：

```
	header-outer
sidemenu   heaer-inner
	slot				 content
```





